<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Настройки AI Sequential Search</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 16px; background:#f7faff; color:#111; }
    h2 { margin-top:0; color:#2d8cff; }
    label { display:block; margin:8px 0 4px; font-weight:500; }
    input, textarea, select {
      width:100%; padding:8px; border-radius:6px; border:1px solid #ccc; margin-bottom:12px;
    }
    button {
      padding:10px 16px; border:none; border-radius:6px;
      background:#2d8cff; color:#fff; cursor:pointer; font-weight:600;
    }
    button:hover { background:#1c6fd6; }
    .section { background:#fff; padding:16px; border-radius:8px; margin-bottom:16px; box-shadow:0 1px 3px rgba(0,0,0,0.1); }

    /* Кнопка с иконкой */
    .btn-icon {
      display:flex; align-items:center; gap:6px;
      background:#f7f7f7; color:#111; border:1px solid #ccc; font-weight:normal;
    }
    .btn-icon img { width:18px; height:18px; }

    /* Модалка */
    .modal {
      display:none; position:fixed; z-index:999; left:0; top:0; width:100%; height:100%;
      background:rgba(0,0,0,0.5); align-items:center; justify-content:center;
    }
    .modal-content {
      background:#fff; padding:20px; border-radius:8px; max-width:500px; width:90%;
      box-shadow:0 4px 12px rgba(0,0,0,0.2);
    }
    .modal-content h3 { margin-top:0; color:#2d8cff; }
    .close-btn {
      background:#ccc; color:#111; border:none; padding:6px 12px; border-radius:4px; cursor:pointer;
      float:right;
    }
    .close-btn:hover { background:#aaa; }
  </style>
</head>
<body>
  <h2>Настройки</h2>
  
  <div class="section">
    <h3>API Keys</h3>
    <label for="geminiKey">Gemini API Key:</label>
    <input type="text" id="geminiKey" placeholder="Введите ключ Gemini">

    <label for="openrouterKey">OpenRouter API Key:</label>
    <input type="text" id="openrouterKey" placeholder="Введите ключ OpenRouter">
  </div>

  <div class="section">
    <h3>Сессия</h3>
    <label for="sessionDuration">Длительность сессии (минуты):</label>
    <input type="number" id="sessionDuration" min="1" value="10">

    <label for="stepDelay">Задержка между шагами (секунды):</label>
    <input type="number" id="stepDelay" min="1" value="120">
  </div>

  <div class="section">
    <h3>Фоллбек-запросы</h3>
    <label for="fallbackQueries">Введите запасные запросы (по одному в строке):</label>
    <textarea id="fallbackQueries" rows="5" placeholder="Пример:\nновости технологий\nкупить ноутбук\nрецепт борща"></textarea>
  </div>

  <div style="display:flex; gap:10px;">
    <button id="saveBtn">Сохранить настройки</button>
    <button id="guideBtn" class="btn-icon">
      <img src="images/guide.png" alt="Гайды"> Гайды
    </button>
  </div>

  <!-- Модальное окно -->
  <div id="guideModal" class="modal">
    <div class="modal-content">
      <button class="close-btn" id="closeGuide">Закрыть</button>
      <h3>Как работать с настройками</h3>
      <p><b>API Keys</b> — сюда вставьте ваши ключи Gemini и/или OpenRouter. Если ключ пустой, расширение будет использовать встроенный (ограниченный).</p>
      <p><b>Сессия</b> — задаёт, сколько минут будет длиться сессия и сколько секунд ждать перед переходом на следующий сайт.</p>
      <p><b>Фоллбек-запросы</b> — это запасные поисковые запросы. Если ИИ не вернул результат, будет выбран случайный из этого списка. Пишите каждый запрос на новой строке.</p>
      <p>После изменения настроек нажмите <b>"Сохранить настройки"</b>.</p>
    </div>
  </div>

  <script src="options.js"></script>
</body>
</html>
